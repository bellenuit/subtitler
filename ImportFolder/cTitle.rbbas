#tag ClassProtected Class cTitle	#tag Method, Flags = &h0		Sub Constructor()		  eventnr = -1		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Function dump(usetc as boolean) As string		  dim i,ub as integer		  dim result, line as string		  dim addlines(-1) as string		  		  		  if eventnr>-1 then		    addlines.append "/file " + filename 		  end		  		  if usetc and start<>"" and ende<>"" then		    addlines.append "/tc " + start + " " + ende		  end		  		  for each line in lines		    addlines.append line		  next		  		  result = join(addlines,endofline)		  		  return result		  		End Function	#tag EndMethod	#tag Method, Flags = &h0		Function filename() As string		  if realfilename<>"" then return realfilename		  return format(eventnr,"0000")+eventsuffix		End Function	#tag EndMethod	#tag Method, Flags = &h0		Sub filename(assigns s as string)		  dim sarr(-1) as string		  eventnr = val(s)		  if eventnr > 0 and left(s,1) <> "0" then		    eventsuffix = getsuffix(s)		    eventsuffix = nthfield(eventsuffix,".",1)		  else		    realfilename = s		    // remove extension		    sarr = split(realfilename,".")		    if ubound(sarr) > 0 then		      sarr.remove ubound(sarr)		    end		    realfilename = join(sarr,".")		  end		  		End Sub	#tag EndMethod	#tag Method, Flags = &h21		Private Function GetSuffix(s as string) As string		  dim i as integer		  		  for i = 1 to len(s)		    if instr("0123456789", mid(s,i,1)) = 0 then		      return mid(s,i)		    end 		  next		End Function	#tag EndMethod	#tag Property, Flags = &h0		ende As string	#tag EndProperty	#tag Property, Flags = &h0		eventnr As integer	#tag EndProperty	#tag Property, Flags = &h0		eventsuffix As string	#tag EndProperty	#tag Property, Flags = &h0		lines(-1) As string	#tag EndProperty	#tag Property, Flags = &h0		realfilename As string	#tag EndProperty	#tag Property, Flags = &h0		start As string	#tag EndProperty	#tag ViewBehavior		#tag ViewProperty			Name="ende"			Group="Behavior"			Type="string"			EditorType="MultiLineEditor"		#tag EndViewProperty		#tag ViewProperty			Name="eventnr"			Group="Behavior"			InitialValue="0"			Type="integer"		#tag EndViewProperty		#tag ViewProperty			Name="eventsuffix"			Group="Behavior"			Type="string"			EditorType="MultiLineEditor"		#tag EndViewProperty		#tag ViewProperty			Name="Index"			Visible=true			Group="ID"			InitialValue="-2147483648"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Left"			Visible=true			Group="Position"			InitialValue="0"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Name"			Visible=true			Group="ID"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="realfilename"			Group="Behavior"			Type="string"			EditorType="MultiLineEditor"		#tag EndViewProperty		#tag ViewProperty			Name="start"			Group="Behavior"			Type="string"			EditorType="MultiLineEditor"		#tag EndViewProperty		#tag ViewProperty			Name="Super"			Visible=true			Group="ID"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Top"			Visible=true			Group="Position"			InitialValue="0"			InheritedFrom="Object"		#tag EndViewProperty	#tag EndViewBehaviorEnd Class#tag EndClass